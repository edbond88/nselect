!function(e){e.nSelect=function(t,l){function s(){function l(){var t=e(this);c.hasClass("_active")?n(t,c):i(t,c),!v&&jQuery.mCustomScrollbar&&r(d.selectList)}function s(){var t=e(this);o(c,t),h.afterChange(t),n(t)}var c=a(t),d={selectBtn:e(".nselect__head",c),selectHeadInner:e(".nselect__head SPAN",c),selectList:e(".nselect__list",c),selectItem:e(".nselect__inner li",c)};d.selectBtn.on("click",l),d.selectItem.on("click",s)}function a(t){var l,s,a,n={top:"",disabled:""},i="",c={},o=!1,r=t.data("title")||"",d=t.attr("name")||"";return t.hide(),h.topList&&(n.top="_top"),(t.hasClass("_disabled")||h.disabled)&&(n.disabled="_disabled"),i=t.wrap('<div class="nselect '+n.top+" "+h.theme+" "+n.disabled+'" data-name="'+d+'" data-val=""></div>').closest(".nselect").prepend('<div class="nselect__inner"><ul class="nselect__list"></ul></div>'),c={selectList:e(".nselect__list",i),selectItem:{}},t.find("option").each(function(){var t,s=e(this),a=s.val(),n=s.html(),i="";s.attr("selected")?(l=s,i='class="_active"'):i="",t="<li "+i+' data-val="'+a+'"><span>'+n+"</span></li>",c.selectList.append(t)}),c.selectItem=e(".nselect__inner li",i),void 0===l&&(console.log("auto first title"),o=!0,l=t.find("option"),c.selectItem.eq(0).addClass("_active")),s=l.html(),a=l.val(),""!==h.firstTitle&&o&&(console.log("options.firstTitle"),c.selectItem.removeClass("_active"),t.val(""),s=h.firstTitle,a=""),""!==r&&o&&(console.log("data-title"),c.selectItem.removeClass("_active"),t.val(""),s=r,a=""),i.prepend('<h6 class="nselect__head" data-val="'+a+'"><span>'+s+"</span></h6>"),e(".nselect__head",i).attr("title",e(".nselect__head SPAN",i).html()),i}function n(t,l){return void 0===l?void e(".nselect").removeClass("_active"):(l.removeClass("_active"),void e(window).trigger("niceClose"))}function i(t,l){l.addClass("_active"),h.afterOpen(t),e(window).trigger("nOpen")}function c(e,l){t.val(e),l.data("val",e)}function o(t,l){var s=e(l),a=s.find("span").html(),n=s.data("val");s.addClass("_active").siblings("li").removeClass("_active"),t.addClass("_checked"),e(".nselect__head",t).attr("title",a),e(".nselect__head SPAN",t).html(a),c(n,t),e(window).trigger("nChange")}function r(e){e.mCustomScrollbar("destroy"),e.mCustomScrollbar({theme:h.scrollbarTheme}),v=!0}var d=this,v=!1,_={topList:!1,firstTitle:"",theme:"nsOrange",disabled:!1,scrollbarTheme:"dark",afterChange:function(){},afterOpen:function(){}},h=e.extend(_,l);return s(),d},e(document).on("click",function(t){e(t.target).closest(".nselect").length||0==e(".nselect._active").length||e(".nselect").removeClass("_active")}),e.fn.nSelect=function(t){return this.each(function(){new e.nSelect(e(this),t)})}}(jQuery);