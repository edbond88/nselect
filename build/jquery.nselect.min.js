!function(e){e.nSelect=function(t,l){function s(){function l(){var t=e(this);c.hasClass("_active")?n(t,c):i(t,c),!_&&jQuery.mCustomScrollbar&&o(r.selectList)}function s(){var t=e(this);d(c,t),v.afterChange(t),n(t)}var c=a(t),r={selectBtn:e(".nselect__head",c),selectHeadInner:e(".nselect__head SPAN",c),selectList:e(".nselect__list",c),selectItem:e(".nselect__inner li",c)};r.selectBtn.on("click",l),r.selectItem.on("click",s)}function a(t){var l,s,a,n={top:"",disabled:""},i="",c={},d=!1,o=t.data("title")||"",r=t.attr("name")||"";return t.hide(),v.topList&&(n.top="_top"),(t.hasClass("_disabled")||v.disabled)&&(n.disabled="_disabled"),i=t.wrap('<div class="nselect '+n.top+" "+v.theme+" "+n.disabled+'" data-name="'+r+'" data-val=""></div>').closest(".nselect").prepend('<div class="nselect__inner"><ul class="nselect__list"></ul></div>'),c={selectList:e(".nselect__list",i),selectItem:{}},t.find("option").each(function(){var t,s=e(this),a=s.val(),n=s.html(),i="",d="";s.attr("selected")?(l=s,i="_active",1==v.hideAfterSelect&&(d="_hide")):(i="",d=""),t='<li class="'+i+" "+d+'" data-val="'+a+'"><span>'+n+"</span></li>",c.selectList.append(t)}),c.selectItem=e(".nselect__inner li",i),void 0===l&&(console.log("auto first title"),d=!0,l=t.find("option"),c.selectItem.eq(0).addClass("_active"),1==v.hideAfterSelect&&c.selectItem.eq(0).addClass("_hide")),s=l.html(),a=l.val(),""!==v.firstTitle&&d&&(console.log("options.firstTitle"),c.selectItem.removeClass("_active"),t.val(""),s=v.firstTitle,a=""),""!==o&&d&&(console.log("data-title"),c.selectItem.removeClass("_active"),t.val(""),s=o,a=""),i.prepend('<h6 class="nselect__head" data-val="'+a+'"><span>'+s+"</span></h6>"),e(".nselect__head",i).attr("title",e(".nselect__head SPAN",i).html()),i}function n(t,l){return void 0===l?void e(".nselect").removeClass("_active"):(l.removeClass("_active"),void e(window).trigger("niceClose"))}function i(t,l){l.addClass("_active"),v.afterOpen(t),e(window).trigger("nOpen")}function c(e,l){t.val(e),l.data("val",e)}function d(t,l){var s=e(l),a=s.find("span").html(),n=s.data("val");s.addClass("_active").siblings("li").removeClass("_active"),1==v.hideAfterSelect&&s.addClass("_hide").siblings("li").removeClass("_hide"),t.addClass("_checked"),e(".nselect__head",t).attr("title",a),e(".nselect__head SPAN",t).html(a),c(n,t),e(window).trigger("nChange")}function o(e){e.mCustomScrollbar("destroy"),e.mCustomScrollbar({theme:v.scrollbarTheme}),_=!0}var r=this,_=!1,h={topList:!1,firstTitle:"",theme:"nsOrange",disabled:!1,scrollbarTheme:"dark",hideAfterSelect:!1,afterChange:function(){},afterOpen:function(){}},v=e.extend(h,l);return s(),r},e(document).on("click",function(t){e(t.target).closest(".nselect").length||0==e(".nselect._active").length||e(".nselect").removeClass("_active")}),e.fn.nSelect=function(t){return this.each(function(){new e.nSelect(e(this),t)})}}(jQuery);