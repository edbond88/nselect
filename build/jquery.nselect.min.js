!function(e){e.niceSelect=function(t,i){function s(){o.removeClass("_active"),e(window).trigger("niceClose")}function l(){o.addClass("_active"),v.afterOpen(),e(window).trigger("niceOpen")}function n(e){h.hiddenSelect.val(e),o.data("val",e)}function c(e){e.mCustomScrollbar("destroy"),e.mCustomScrollbar({theme:v.scrollbarTheme}),f=!0}function a(t){var i,s={top:"",disabled:""},l=!1,n=t.data("title")||"";t.hide(),v.topList&&(s.top="_top"),t.hasClass("_disabled")&&(s.disabled="_disabled"),o=t.wrap('<div class="nice-select '+s.top+" "+v.theme+" "+s.disabled+'" data-name="'+t.attr("name")+'" data-val=""></div>').closest(".nice-select").prepend('<div class="nice-select__inner js-nice-select__inner"><ul class="nice-select-list js-nice-select-list"></ul></div>'),h={selectInner:e(".js-nice-select__inner",o),selectList:e(".js-nice-select-list",o),hiddenSelect:t},t.find("option").each(function(){var t,s=e(this),l=s.val(),n=s.html(),c="";s.attr("selected")?(i=s,c='class="_active"'):c="",t="<li "+c+' data-val="'+l+'"><span>'+n+"</span></li>",h.selectList.append(t)}),h.selectItem=e(".js-nice-select__inner li",o),void 0===i&&(l=!0,i=t.find("option"),h.selectItem.eq(0).addClass("_active"));var c=i.html();titleVal=i.val(),""!==v.firstTitle&&l&&(h.selectItem.removeClass("_active"),c=v.firstTitle,titleVal=""),""!==n&&(h.selectItem.removeClass("_active"),c=n,titleVal=""),o.prepend('<h6 class="nice-select-head js-nice-head" data-val="'+titleVal+'"><span>'+c+"</span></h6>"),h.selectBtn=e(".js-nice-head",o),h.selectBtn.attr("title",e(".js-nice-head SPAN",o).html()),h.selectHeadInner=e(".js-nice-head SPAN",o)}function d(t,i){function d(){e(this);o.hasClass("_active")?s():l(),!f&&jQuery.mCustomScrollbar&&c(h.selectList)}function r(){var t=e(this),i=(t.closest(".js-nice-select"),t.find("span").html()),l=t.data("val");t.addClass("_active").siblings("li").removeClass("_active"),o.addClass("_checked"),h.selectBtn.attr("title",i),h.selectHeadInner.html(i),n(l),v.afterChange(t),e(window).trigger("niceChange"),s()}var m={topList:!1,firstTitle:"",theme:"",scrollbarTheme:"blue",afterChange:function(){},afterOpen:function(){}};v=e.extend(m,i),a(t),h.selectBtn.on("click",d),h.selectItem.on("click",r),e(document).on("click",function(t){var i=e(t.target);!i.closest(o).length&&e(".nice-select._active").length&&s()})}var r=this,o="",h={},v={},f=!1;return d(t,i),r.closeSelect=function(){s()},r},e.fn.niceSelect=function(t){return this.each(function(){new e.niceSelect(e(this),t)})}}(jQuery);